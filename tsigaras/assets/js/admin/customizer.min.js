"use strict";jQuery(document).ready(function(i){function r(t,e){e='<div class="repeater" style="display:none"><input type="text" value="'+(1<arguments.length&&void 0!==e?e:"")+'" class="repeater-input" placeholder="https://" /><span class="dashicons dashicons-sort"></span><a class="customize-control-sortable-repeater-delete" href="#"><span class="dashicons dashicons-no-alt"></span></a></div>';t.find(".sortable").append(e),t.find(".sortable").find(".repeater:last").slideDown("slow",function(){i(this).find("input").focus()})}function n(t){var e=t.find(".repeater-input").map(function(){return i(this).val()}).toArray();t.find(".customize-control-sortable-repeater").val(e),t.find(".customize-control-sortable-repeater").trigger("change")}function o(t){var e=t.find(".sortable-pill-checkbox").map(function(){if(i(this).is(":checked"))return i(this).val()}).toArray();t.find(".customize-control-sortable-pill-checkbox").val(e).trigger("change")}i(".customize-control-dropdown-select2").each(function(){i(".customize-control-select2").select2({allowClear:!0})}),i(".customize-control-select2").on("change",function(){var t=i(this).val();i(this).parent().find(".customize-control-dropdown-select2").val(t).trigger("change")}),i(".sortable_repeater_control").each(function(){var t=i(this).find(".customize-control-sortable-repeater").val().split(","),e=t.length;if(0<e&&(i(this).find(".repeater-input").val(t[0]),1<e))for(var n=1;n<e;++n)r(i(this),t[n])}),i(this).find(".sortable_repeater.sortable").sortable({update:function(t,e){n(i(this).parent())}}),i(".sortable_repeater.sortable").on("click",".customize-control-sortable-repeater-delete",function(t){t.preventDefault(),1<i(this).parent().parent().find(".repeater").length?i(this).parent().slideUp("fast",function(){var t=i(this).parent().parent();i(this).remove(),n(t)}):(i(this).parent().find(".repeater-input").val(""),n(i(this).parent().parent().parent()))}),i(".customize-control-sortable-repeater-add").click(function(t){t.preventDefault(),r(i(this).parent()),n(i(this).parent())}),i(".sortable_repeater.sortable").change(function(){n(i(this).parent())}),i(".sortable_repeater.sortable").on("blur",".repeater-input",function(){var t=i(this),e=t.val();e&&!e.match(/^.+:\/\/.*/)&&t.val("https://"+e).trigger("change")}),i(".single-accordion-toggle").on("click",function(){var t=i(this);i(this).parent().find(".single-accordion").slideToggle("slow",function(){t.toggleClass("single-accordion-toggle-rotate",i(this).is(":visible"))})}),i(".customize-control-tinymce-editor").each(function(){var t=_wpCustomizeSettings.controls[i(this).attr("id")].tsigarastinymcetoolbar1,e=_wpCustomizeSettings.controls[i(this).attr("id")].tsigarastinymcetoolbar2,n=_wpCustomizeSettings.controls[i(this).attr("id")].tsigarasmediabuttons;wp.editor.initialize(i(this).attr("id"),{tinymce:{wpautop:!0,toolbar1:t,toolbar2:e},quicktags:!0,mediaButtons:n})}),i(document).on("tinymce-editor-init",function(t,e){e.on("change",function(t){tinyMCE.triggerSave(),i("#"+e.id).trigger("change")})}),i(".pill_checkbox_control .sortable").sortable({placeholder:"pill-ui-state-highlight",update:function(t,e){o(i(this).parent())}}),i(".pill_checkbox_control .sortable-pill-checkbox").on("change",function(){o(i(this).parent().parent().parent())})});