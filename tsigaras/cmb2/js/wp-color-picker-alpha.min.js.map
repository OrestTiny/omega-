{"version":3,"sources":["cmb2/js/wp-color-picker-alpha.js"],"names":["$","wp","prototype","_hasAlpha","image","_after","_wrap","_button","_deprecated","undefined","wpColorPickerL10n","current","_before","_wrappingLabel","_wrappingLabelText","Color","fn","toString","this","_alpha","replace","hex","parseInt","_color","length","substr","widget","wpColorPicker","_create","self","support","iris","el","element","extend","options","data","val","initialValue","_createHueOnly","wrap","close","addClass","pickerContainer","hide","parent","toggler","insertBefore","css","attr","pick","insertAfter","button","wrappingLabelText","text","wrappingLabel","find","defaultColor","defaultString","defaultAriaLabel","clear","clearAriaLabel","target","after","mode","palettes","inputWrapper","closest","width","change","event","ui","alpha","background-image","html","position","isFunction","top","bottom","border-bottom-left-radius","background","color","backgroundColor","call","_addListeners","click","on","stopPropagation","hasClass","open","removeAttr","_super","is","controls","aContainer","appendTo","picker","aSlider","stripsMargin","emptyWidth","stripsWidth","defaultWidth","indexOf","customWidth","each","k","v","_initControls","square","slider","step","value","margin-left","_change","gradient","orientation","min","max","slide","parseFloat","arguments","toRgb","g","b","r","active","join","callback","strip","input","_addInputListeners","jQuery","removeClass","error","type","match","_setOption","_debounce","show","document","ready"],"mappings":"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","file":"wp-color-picker-alpha.min.js","sourcesContent":["/**!\n * wp-color-picker-alpha\n *\n * Overwrite Automattic Iris for enabled Alpha Channel in wpColorPicker\n * Only run in input and is defined data alpha in true\n *\n * Version: 2.1.3\n * https://github.com/kallookoo/wp-color-picker-alpha\n * Licensed under the GPLv2 license.\n */\n( function( $ ) {\n\t// Prevent double-init.\n\tif ( $.wp.wpColorPicker.prototype._hasAlpha ) {\n\t\treturn;\n\t}\n\n\t\t// Variable for some backgrounds ( grid )\n\tvar image   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==',\n\t\t// html stuff for wpColorPicker copy of the original color-picker.js\n\t\t_after = '<div class=\"wp-picker-holder\" />',\n\t\t_wrap = '<div class=\"wp-picker-container\" />',\n\t\t_button = '<input type=\"button\" class=\"button button-small\" />',\n\t\t// Prevent CSS issues in < WordPress 4.9\n\t\t_deprecated = ( wpColorPickerL10n.current !== undefined );\n\t\t// Declare some global variables when is deprecated or not\n\t\tif ( _deprecated ) {\n\t\t\tvar _before = '<a tabindex=\"0\" class=\"wp-color-result\" />';\n\t\t} else {\n\t\t\tvar _before = '<button type=\"button\" class=\"button wp-color-result\" aria-expanded=\"false\"><span class=\"wp-color-result-text\"></span></button>',\n\t\t\t\t_wrappingLabel = '<label></label>',\n\t\t\t\t_wrappingLabelText = '<span class=\"screen-reader-text\"></span>';\n\t\t}\n\t/**\n\t * Overwrite Color\n\t * for enable support rbga\n\t */\n\tColor.fn.toString = function() {\n\t\tif ( this._alpha < 1 )\n\t\t\treturn this.toCSS( 'rgba', this._alpha ).replace( /\\s+/g, '' );\n\n\t\tvar hex = parseInt( this._color, 10 ).toString( 16 );\n\n\t\tif ( this.error )\n\t\t\treturn '';\n\n\t\tif ( hex.length < 6 )\n\t\t\thex = ( '00000' + hex ).substr( -6 );\n\n\t\treturn '#' + hex;\n\t};\n\n\t/**\n\t * Overwrite wpColorPicker\n\t */\n\t$.widget( 'wp.wpColorPicker', $.wp.wpColorPicker, {\n\t\t_hasAlpha: true,\n\t\t/**\n\t\t * @summary Creates the color picker.\n\t\t *\n\t\t * Creates the color picker, sets default values, css classes and wraps it all in HTML.\n\t\t *\n\t\t * @since 3.5.0\n\t\t *\n\t\t * @access private\n\t\t *\n\t\t * @returns {void}\n\t\t */\n\t\t_create: function() {\n\t\t\t// Return early if Iris support is missing.\n\t\t\tif ( ! $.support.iris ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar self = this,\n\t\t\t\tel = self.element;\n\n\t\t\t// Override default options with options bound to the element.\n\t\t\t$.extend( self.options, el.data() );\n\n\t\t\t// Create a color picker which only allows adjustments to the hue.\n\t\t\tif ( self.options.type === 'hue' ) {\n\t\t\t\treturn self._createHueOnly();\n\t\t\t}\n\n\t\t\t// Bind the close event.\n\t\t\tself.close = $.proxy( self.close, self );\n\n\t\t\tself.initialValue = el.val();\n\n\t\t\t// Add a CSS class to the input field.\n\t\t\tel.addClass( 'wp-color-picker' );\n\n\t\t\tif ( _deprecated ) {\n\t\t\t\tel.hide().wrap( _wrap );\n\t\t\t\tself.wrap            = el.parent();\n\t\t\t\tself.toggler         = $( _before )\n\t\t\t\t\t.insertBefore( el )\n\t\t\t\t\t.css( { backgroundColor : self.initialValue } )\n\t\t\t\t\t.attr( 'title', wpColorPickerL10n.pick )\n\t\t\t\t\t.attr( 'data-current', wpColorPickerL10n.current );\n\t\t\t\tself.pickerContainer = $( _after ).insertAfter( el );\n\t\t\t\tself.button          = $( _button ).addClass('hidden');\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t * Check if there's already a wrapping label, e.g. in the Customizer.\n\t\t\t\t * If there's no label, add a default one to match the Customizer template.\n\t\t\t\t */\n\t\t\t\tif ( ! el.parent( 'label' ).length ) {\n\t\t\t\t\t// Wrap the input field in the default label.\n\t\t\t\t\tel.wrap( _wrappingLabel );\n\t\t\t\t\t// Insert the default label text.\n\t\t\t\t\tself.wrappingLabelText = $( _wrappingLabelText )\n\t\t\t\t\t\t.insertBefore( el )\n\t\t\t\t\t\t.text( wpColorPickerL10n.defaultLabel );\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * At this point, either it's the standalone version or the Customizer\n\t\t\t\t * one, we have a wrapping label to use as hook in the DOM, let's store it.\n\t\t\t\t */\n\t\t\t\tself.wrappingLabel = el.parent();\n\n\t\t\t\t// Wrap the label in the main wrapper.\n\t\t\t\tself.wrappingLabel.wrap( _wrap );\n\t\t\t\t// Store a reference to the main wrapper.\n\t\t\t\tself.wrap = self.wrappingLabel.parent();\n\t\t\t\t// Set up the toggle button and insert it before the wrapping label.\n\t\t\t\tself.toggler = $( _before )\n\t\t\t\t\t.insertBefore( self.wrappingLabel )\n\t\t\t\t\t.css( { backgroundColor: self.initialValue } );\n\t\t\t\t// Set the toggle button span element text.\n\t\t\t\tself.toggler.find( '.wp-color-result-text' ).text( wpColorPickerL10n.pick );\n\t\t\t\t// Set up the Iris container and insert it after the wrapping label.\n\t\t\t\tself.pickerContainer = $( _after ).insertAfter( self.wrappingLabel );\n\t\t\t\t// Store a reference to the Clear/Default button.\n\t\t\t\tself.button = $( _button );\n\t\t\t}\n\n\t\t\t// Set up the Clear/Default button.\n\t\t\tif ( self.options.defaultColor ) {\n\t\t\t\tself.button.addClass( 'wp-picker-default' ).val( wpColorPickerL10n.defaultString );\n\t\t\t\tif ( ! _deprecated ) {\n\t\t\t\t\tself.button.attr( 'aria-label', wpColorPickerL10n.defaultAriaLabel );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.button.addClass( 'wp-picker-clear' ).val( wpColorPickerL10n.clear );\n\t\t\t\tif ( ! _deprecated ) {\n\t\t\t\t\tself.button.attr( 'aria-label', wpColorPickerL10n.clearAriaLabel );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( _deprecated ) {\n\t\t\t\tel.wrap( '<span class=\"wp-picker-input-wrap\" />' ).after( self.button );\n\t\t\t} else {\n\t\t\t\t// Wrap the wrapping label in its wrapper and append the Clear/Default button.\n\t\t\t\tself.wrappingLabel\n\t\t\t\t\t.wrap( '<span class=\"wp-picker-input-wrap hidden\" />' )\n\t\t\t\t\t.after( self.button );\n\n\t\t\t\t/*\n\t\t\t\t * The input wrapper now contains the label+input+Clear/Default button.\n\t\t\t\t * Store a reference to the input wrapper: we'll use this to toggle\n\t\t\t\t * the controls visibility.\n\t\t\t\t */\n\t\t\t\tself.inputWrapper = el.closest( '.wp-picker-input-wrap' );\n\t\t\t}\n\n\t\t\tel.iris( {\n\t\t\t\ttarget: self.pickerContainer,\n\t\t\t\thide: self.options.hide,\n\t\t\t\twidth: self.options.width,\n\t\t\t\tmode: self.options.mode,\n\t\t\t\tpalettes: self.options.palettes,\n\t\t\t\t/**\n\t\t\t\t * @summary Handles the onChange event if one has been defined in the options.\n\t\t\t\t *\n\t\t\t\t * Handles the onChange event if one has been defined in the options and additionally\n\t\t\t\t * sets the background color for the toggler element.\n\t\t\t\t *\n\t\t\t\t * @since 3.5.0\n\t\t\t\t *\n\t\t\t\t * @param {Event} event    The event that's being called.\n\t\t\t\t * @param {HTMLElement} ui The HTMLElement containing the color picker.\n\t\t\t\t *\n\t\t\t\t * @returns {void}\n\t\t\t\t */\n\t\t\t\tchange: function( event, ui ) {\n\t\t\t\t\tif ( self.options.alpha ) {\n\t\t\t\t\t\tself.toggler.css( { 'background-image' : 'url(' + image + ')' } );\n\t\t\t\t\t\tif ( _deprecated ) {\n\t\t\t\t\t\t\tself.toggler.html( '<span class=\"color-alpha\" />' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.toggler.css( {\n\t\t\t\t\t\t\t\t'position' : 'relative'\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tif ( self.toggler.find('span.color-alpha').length == 0 ) {\n\t\t\t\t\t\t\t\tself.toggler.append('<span class=\"color-alpha\" />');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tself.toggler.find( 'span.color-alpha' ).css( {\n\t\t\t\t\t\t\t'width'                     : '30px',\n\t\t\t\t\t\t\t'position'                  : 'absolute',\n\t\t\t\t\t\t\t'top'                       : 0,\n\t\t\t\t\t\t\t'bottom'                    : 0,\n\t\t\t\t\t\t\t'left'                      : 0,\n\t\t\t\t\t\t\t'border-top-left-radius'    : '2px',\n\t\t\t\t\t\t\t'border-bottom-left-radius' : '2px',\n\t\t\t\t\t\t\t'background'                : ui.color.toString()\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.toggler.css( { backgroundColor : ui.color.toString() } );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $.isFunction( self.options.change ) ) {\n\t\t\t\t\t\tself.options.change.call( this, event, ui );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tel.val( self.initialValue );\n\t\t\tself._addListeners();\n\n\t\t\t// Force the color picker to always be closed on initial load.\n\t\t\tif ( ! self.options.hide ) {\n\t\t\t\tself.toggler.click();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @summary Binds event listeners to the color picker.\n\t\t *\n\t\t * @since 3.5.0\n\t\t *\n\t\t * @access private\n\t\t *\n\t\t * @returns {void}\n\t\t */\n\t\t_addListeners: function() {\n\t\t\tvar self = this;\n\n\t\t\t/**\n\t\t\t * @summary Prevent any clicks inside this widget from leaking to the top and closing it.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param {Event} event The event that's being called.\n\t\t\t *\n\t\t\t * @returs {void}\n\t\t\t */\n\t\t\tself.wrap.on( 'click.wpcolorpicker', function( event ) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * @summary Open or close the color picker depending on the class.\n\t\t\t *\n\t\t\t * @since 3.5\n\t\t\t */\n\t\t\tself.toggler.click( function(){\n\t\t\t\tif ( self.toggler.hasClass( 'wp-picker-open' ) ) {\n\t\t\t\t\tself.close();\n\t\t\t\t} else {\n\t\t\t\t\tself.open();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * @summary Checks if value is empty when changing the color in the color picker.\n\t\t\t *\n\t\t\t * Checks if value is empty when changing the color in the color picker.\n\t\t\t * If so, the background color is cleared.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param {Event} event The event that's being called.\n\t\t\t *\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tself.element.on( 'change', function( event ) {\n\t\t\t\t// Empty or Error = clear\n\t\t\t\tif ( $( this ).val() === '' || self.element.hasClass( 'iris-error' ) ) {\n\t\t\t\t\tif ( self.options.alpha ) {\n\t\t\t\t\t\tif ( _deprecated ) {\n\t\t\t\t\t\t\tself.toggler.removeAttr( 'style' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.toggler.find( 'span.color-alpha' ).css( 'backgroundColor', '' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.toggler.css( 'backgroundColor', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// fire clear callback if we have one\n\t\t\t\t\tif ( $.isFunction( self.options.clear ) )\n\t\t\t\t\t\tself.options.clear.call( this, event );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t/**\n\t\t\t * @summary Enables the user to clear or revert the color in the color picker.\n\t\t\t *\n\t\t\t * Enables the user to either clear the color in the color picker or revert back to the default color.\n\t\t\t *\n\t\t\t * @since 3.5.0\n\t\t\t *\n\t\t\t * @param {Event} event The event that's being called.\n\t\t\t *\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tself.button.on( 'click', function( event ) {\n\t\t\t\tif ( $( this ).hasClass( 'wp-picker-clear' ) ) {\n\t\t\t\t\tself.element.val( '' );\n\t\t\t\t\tif ( self.options.alpha ) {\n\t\t\t\t\t\tif ( _deprecated ) {\n\t\t\t\t\t\t\tself.toggler.removeAttr( 'style' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.toggler.find( 'span.color-alpha' ).css( 'backgroundColor', '' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.toggler.css( 'backgroundColor', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $.isFunction( self.options.clear ) )\n\t\t\t\t\t\tself.options.clear.call( this, event );\n\n\t\t\t\t} else if ( $( this ).hasClass( 'wp-picker-default' ) ) {\n\t\t\t\t\tself.element.val( self.options.defaultColor ).change();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n\n\t/**\n\t * Overwrite iris\n\t */\n\t$.widget( 'a8c.iris', $.a8c.iris, {\n\t\t_create: function() {\n\t\t\tthis._super();\n\n\t\t\t// Global option for check is mode rbga is enabled\n\t\t\tthis.options.alpha = this.element.data( 'alpha' ) || false;\n\n\t\t\t// Is not input disabled\n\t\t\tif ( ! this.element.is( ':input' ) )\n\t\t\t\tthis.options.alpha = false;\n\n\t\t\tif ( typeof this.options.alpha !== 'undefined' && this.options.alpha ) {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tel         = self.element,\n\t\t\t\t\t_html      = '<div class=\"iris-strip iris-slider iris-alpha-slider\"><div class=\"iris-slider-offset iris-slider-offset-alpha\"></div></div>',\n\t\t\t\t\taContainer = $( _html ).appendTo( self.picker.find( '.iris-picker-inner' ) ),\n\t\t\t\t\taSlider    = aContainer.find( '.iris-slider-offset-alpha' ),\n\t\t\t\t\tcontrols   = {\n\t\t\t\t\t\taContainer : aContainer,\n\t\t\t\t\t\taSlider    : aSlider\n\t\t\t\t\t};\n\n\t\t\t\tif ( typeof el.data( 'custom-width' ) !== 'undefined' ) {\n\t\t\t\t\tself.options.customWidth = parseInt( el.data( 'custom-width' ) ) || 0;\n\t\t\t\t} else {\n\t\t\t\t\tself.options.customWidth = 100;\n\t\t\t\t}\n\n\t\t\t\t// Set default width for input reset\n\t\t\t\tself.options.defaultWidth = el.width();\n\n\t\t\t\t// Update width for input\n\t\t\t\tif ( self._color._alpha < 1 || self._color.toString().indexOf('rgb') != -1 )\n\t\t\t\t\tel.width( parseInt( self.options.defaultWidth + self.options.customWidth ) );\n\n\t\t\t\t// Push new controls\n\t\t\t\t$.each( controls, function( k, v ) {\n\t\t\t\t\tself.controls[k] = v;\n\t\t\t\t} );\n\n\t\t\t\t// Change size strip and add margin for sliders\n\t\t\t\tself.controls.square.css( { 'margin-right': '0' } );\n\t\t\t\tvar emptyWidth   = ( self.picker.width() - self.controls.square.width() - 20 ),\n\t\t\t\t\tstripsMargin = ( emptyWidth / 6 ),\n\t\t\t\t\tstripsWidth  = ( ( emptyWidth / 2 ) - stripsMargin );\n\n\t\t\t\t$.each( [ 'aContainer', 'strip' ], function( k, v ) {\n\t\t\t\t\tself.controls[v].width( stripsWidth ).css( { 'margin-left' : stripsMargin + 'px' } );\n\t\t\t\t} );\n\n\t\t\t\t// Add new slider\n\t\t\t\tself._initControls();\n\n\t\t\t\t// For updated widget\n\t\t\t\tself._change();\n\t\t\t}\n\t\t},\n\t\t_initControls: function() {\n\t\t\tthis._super();\n\n\t\t\tif ( this.options.alpha ) {\n\t\t\t\tvar self     = this,\n\t\t\t\t\tcontrols = self.controls;\n\n\t\t\t\tcontrols.aSlider.slider({\n\t\t\t\t\torientation : 'vertical',\n\t\t\t\t\tmin         : 0,\n\t\t\t\t\tmax         : 100,\n\t\t\t\t\tstep        : 1,\n\t\t\t\t\tvalue       : parseInt( self._color._alpha * 100 ),\n\t\t\t\t\tslide       : function( event, ui ) {\n\t\t\t\t\t\t// Update alpha value\n\t\t\t\t\t\tself._color._alpha = parseFloat( ui.value / 100 );\n\t\t\t\t\t\tself._change.apply( self, arguments );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_change: function() {\n\t\t\tthis._super();\n\n\t\t\tvar self = this,\n\t\t\t\tel   = self.element;\n\n\t\t\tif ( this.options.alpha ) {\n\t\t\t\tvar\tcontrols     = self.controls,\n\t\t\t\t\talpha        = parseInt( self._color._alpha * 100 ),\n\t\t\t\t\tcolor        = self._color.toRgb(),\n\t\t\t\t\tgradient     = [\n\t\t\t\t\t\t'rgb(' + color.r + ',' + color.g + ',' + color.b + ') 0%',\n\t\t\t\t\t\t'rgba(' + color.r + ',' + color.g + ',' + color.b + ', 0) 100%'\n\t\t\t\t\t],\n\t\t\t\t\tdefaultWidth = self.options.defaultWidth,\n\t\t\t\t\tcustomWidth  = self.options.customWidth,\n\t\t\t\t\ttarget       = self.picker.closest( '.wp-picker-container' ).find( '.wp-color-result' );\n\n\t\t\t\t// Generate background slider alpha, only for CSS3 old browser fuck!! :)\n\t\t\t\tcontrols.aContainer.css( { 'background' : 'linear-gradient(to bottom, ' + gradient.join( ', ' ) + '), url(' + image + ')' } );\n\n\t\t\t\tif ( target.hasClass( 'wp-picker-open' ) ) {\n\t\t\t\t\t// Update alpha value\n\t\t\t\t\tcontrols.aSlider.slider( 'value', alpha );\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Disabled change opacity in default slider Saturation ( only is alpha enabled )\n\t\t\t\t\t * and change input width for view all value\n\t\t\t\t\t */\n\t\t\t\t\tif ( self._color._alpha < 1 ) {\n\t\t\t\t\t\tcontrols.strip.attr( 'style', controls.strip.attr( 'style' ).replace( /rgba\\(([0-9]+,)(\\s+)?([0-9]+,)(\\s+)?([0-9]+)(,(\\s+)?[0-9\\.]+)\\)/g, 'rgb($1$3$5)' ) );\n\t\t\t\t\t\tel.width( parseInt( defaultWidth + customWidth ) );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.width( defaultWidth );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar reset = el.data( 'reset-alpha' ) || false;\n\n\t\t\tif ( reset ) {\n\t\t\t\tself.picker.find( '.iris-palette-container' ).on( 'click.palette', '.iris-palette', function() {\n\t\t\t\t\tself._color._alpha = 1;\n\t\t\t\t\tself.active        = 'external';\n\t\t\t\t\tself._change();\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\t_addInputListeners: function( input ) {\n\t\t\tvar self            = this,\n\t\t\t\tdebounceTimeout = 100,\n\t\t\t\tcallback        = function( event ) {\n\t\t\t\t\tvar color = new Color( input.val() ),\n\t\t\t\t\t\tval   = input.val();\n\n\t\t\t\t\tinput.removeClass( 'iris-error' );\n\t\t\t\t\t// we gave a bad color\n\t\t\t\t\tif ( color.error ) {\n\t\t\t\t\t\t// don't error on an empty input\n\t\t\t\t\t\tif ( val !== '' )\n\t\t\t\t\t\t\tinput.addClass( 'iris-error' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( color.toString() !== self._color.toString() ) {\n\t\t\t\t\t\t\t// let's not do this on keyup for hex shortcodes\n\t\t\t\t\t\t\tif ( ! ( event.type === 'keyup' && val.match( /^[0-9a-fA-F]{3}$/ ) ) )\n\t\t\t\t\t\t\t\tself._setOption( 'color', color.toString() );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tinput.on( 'change', callback ).on( 'keyup', self._debounce( callback, debounceTimeout ) );\n\n\t\t\t// If we initialized hidden, show on first focus. The rest is up to you.\n\t\t\tif ( self.options.hide ) {\n\t\t\t\tinput.on( 'focus', function() {\n\t\t\t\t\tself.show();\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t} );\n}( jQuery ) );\n\n// Auto Call plugin is class is color-picker\njQuery( document ).ready( function( $ ) {\n\t$( '.color-picker' ).wpColorPicker();\n} );\n"]}